# 附录<a name="ZH-CN_TOPIC_0270721600"></a>

部署任务执行失败，会有可能以下几种原因。

## 主机系统原因<a name="section742218318329"></a>

-   问题现象：部署主机已添加入方向规则“允许访问5000以及5001端口”，且部署任务执行成功，但无法访问部署网站（即“http://_ip__地址_:5000”与“http://_ip地址_:5001”）。
-   原因分析：本实践项目所使用目标主机的操作系统为Ubuntu 16.04，其它类型主机无法访问部署后的网站。
-   处理方法：重新购买一台操作系统为Ubuntu 16.04的主机（购买方式请参考[购买并配置弹性云服务器](步骤七-部署应用（弹性云服务器篇）.md#section369110705717)），或将当前主机操作系统切换为Ubuntu 16.04（切换操作系统方式请参考[切换操作系统](https://support.huaweicloud.com/usermanual-ecs/zh-cn_topic_0031523135.html)）。

## 主机依赖问题<a name="section920101210333"></a>

-   问题现象：部署任务执行失败，报错信息为“docker: commond not found“、“docker-compose: commond not found“，如[图1](#fig24911411416)所示。

    **图 1**  报错信息<a name="fig24911411416"></a>  
    ![](figures/报错信息.png "报错信息")

-   原因分析：部署主机未安装运行程序所需的依赖工具，或者依赖工具安装失败。
-   处理方法：执行以下命令查看主机中的Docker及Docker-Compose版本。

    -   查看Docker镜像版本。

        ```
        docker -v
        ```

    -   查看Docker-Compose版本。

        ```
        docker-compose -v
        ```

    若出现如[图2](#fig227785665819)，表示已安装成功，重新执行部署任务。

    **图 2**  查看Docker及Docker-Compose版本<a name="fig227785665819"></a>  
    ![](figures/查看Docker及Docker-Compose版本-11.png "查看Docker及Docker-Compose版本-11")

    若未出现如[图2](#fig227785665819)所示的提示，表示安装失败，请参考[安装依赖工具](步骤七-部署应用（弹性云服务器篇）.md#li1439385815254)操作步骤重新安装Docker、Docker-Compose。


## 参数配置问题<a name="section1601346153416"></a>

参数设置错误，可能会导致以下几种报错。

问题一：

-   问题现象：部署任务执行失败，报错信息为“docker login failed“、“Get https://XXX denied“，如[图3](#fig197861256123415)所示。

    **图 3**  报错信息<a name="fig197861256123415"></a>  
    ![](figures/报错信息-12.png "报错信息-12")

-   原因分析：目标主机重启等情况造成Docker登录指令失效。

问题二：

-   问题现象：部署任务执行失败，报错信息为“expected alphabetic or numeric character, but found '\*'“，如[图4](#fig20406132013376)所示。

    **图 4**  报错信息<a name="fig20406132013376"></a>  
    ![](figures/报错信息-13.png "报错信息-13")

-   原因分析：构建任务参数设置不正确，导致部署任务获取不到正确的部署来源数据。

参数错误的处理方法：参照[配置SWR服务](步骤六-构建应用.md#li181937383409)，重新获取SWR参数，并配置到编译构建任务与部署任务中。

