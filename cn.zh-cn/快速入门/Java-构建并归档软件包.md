# 步骤四：构建并归档软件包<a name="devcloud_qs_0206"></a>

[编译构建](https://www.huaweicloud.com/product/cloudbuild.html)为开发者提供配置简单的混合语言构建平台，支持任务一键创建、配置和执行，实现获取代码、构建、打包等活动自动化。[发布](https://www.huaweicloud.com/product/cloudrelease.html)提供软件仓库、软件发布、发布包下载、发布包元数据管理等功能，实现软件包版本管理。通过编译构建任务中配置的归档路径，可将构建好的软件包归档在发布仓库中。

本节通过以下三步介绍如何使用编译构建服务将代码编译打包成软件包，并将软件包归档到软件发布库中。

-   [第一步：新建编译构建任务](#section097945133519)
-   [第二步：执行编译构建任务](#section6914025125118)
-   [第三步：检查发布件](#section6984915123311)

## 第一步：新建编译构建任务<a name="section097945133519"></a>

DevCloud中内置了多种编译构建模板。本示例是一个Java Gradle项目，因此选择模板“Gradle构建“。

1.  单击页面上方导航栏“构建&发布  \>  编译构建“。

    ![](figures/Java-编译构建.png)

2.  单击“新建任务“，配置编译构建任务信息。

    1.  选择代码源：依次选择源码源“DevCloud“、仓库“halo-blog“、默认分支“master“。
    2.  选择构建模板：选择DevCloud内置的构建模板“Gradle“。

    完成配置，单击“确定“，页面自动跳转至构建步骤页面。

3.  编辑各步骤中的配置项。本示例使用系统模板中提供的两个默认步骤、以及每个步骤中的默认配置。
4.  单击“新建“，完成编译构建任务的创建。页面自动跳转至编译详情页面。

## 第二步：执行编译构建任务<a name="section6914025125118"></a>

在编译详情页面中单击“开始构建“，启动构建任务。

任务执行耗时约2\~3分钟。当页面中显示![](figures/zh-cn_image_0000001104346996.png)时，表示任务执行成功完成。

![](figures/Java-构建成功.png)

单击构建编号，可查看构建日志。若执行失败，可通过日志信息排查问题，或通过[编译构建-常见问题](https://support.huaweicloud.com/codeci_faq/codeci_02_0001.html)查找解决方法。

## 第三步：检查发布件<a name="section6984915123311"></a>

编译构建任务默认将软件包归档在软件发布库中，归档路径通常分为两层：

-   路径第一层为与编译构建任务同名的文件夹。
-   路径第二层为与[第二步：执行编译构建任务](#section6914025125118)中“执行成功“字样前的数字相同的文件夹，本示例中的路径文件夹为“20200723.1“。

1.  单击页面上方导航栏“构建&发布  \>  发布“，进入软件发布库。
2.  单击文件夹“halo-blog-CI“，根据[第二步：执行编译构建任务](#section6914025125118)中“执行成功“字样前的数字，单击同名文件夹进入，即可看到生成的软件包“halo.jar“。

    ![](figures/Java-软件包.png)

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >实际操作的时候，软件包名称中可能带有版本号，例如“halo-x.x.jar“，是代码仓库模板中的配置所致，可忽略。


至此，您已经完成了软件包的构建与归档操作。

  

